/*!
 * 
 *    @license KRISP TECHNOLOGIES, INC
 *
 *   KRISP TECHNOLOGIES, INC
 *   __________________
 *
 *   [2018] - [2022] Krisp Technologies, Inc
 *   All Rights Reserved.
 *
 *   NOTICE: By accessing this programming code, you acknowledge that you have read, understood, and agreed to the User Agreement available at
 *   https://krisp.ai/terms-of-use.
 *
 *   Please note that ALL information contained herein is and remains the property of Krisp Technologies, Inc., and its affiliates or assigns, if any. The intellectual property
 *   contained herein is proprietary to Krisp Technologies, Inc. and may be covered by pending and granted U.S. and Foreign Patents, and is further protected by
 *   copyright, trademark and/or other forms of intellectual property protection.
 *   Dissemination of this information or reproduction of this material IS STRICTLY FORBIDDEN.
 *
 */
const a0_0x7e4dd4=a0_0x2906;(function(_0x504642,_0x5794e0){const _0x5f45c9=a0_0x2906,_0x4fe5a2=_0x504642();while(!![]){try{const _0x107ca0=-parseInt(_0x5f45c9(0x131))/0x1+-parseInt(_0x5f45c9(0x171))/0x2+parseInt(_0x5f45c9(0x17e))/0x3+-parseInt(_0x5f45c9(0x16c))/0x4+-parseInt(_0x5f45c9(0x181))/0x5+-parseInt(_0x5f45c9(0x179))/0x6+-parseInt(_0x5f45c9(0x159))/0x7*(-parseInt(_0x5f45c9(0x189))/0x8);if(_0x107ca0===_0x5794e0)break;else _0x4fe5a2['push'](_0x4fe5a2['shift']());}catch(_0x310ae6){_0x4fe5a2['push'](_0x4fe5a2['shift']());}}}(a0_0x25f7,0x7a4e5));var e={'d':(_0x3c1908,_0x23c9cb)=>{for(var _0x3b446f in _0x23c9cb)e['o'](_0x23c9cb,_0x3b446f)&&!e['o'](_0x3c1908,_0x3b446f)&&Object['defineProperty'](_0x3c1908,_0x3b446f,{'enumerable':!0x0,'get':_0x23c9cb[_0x3b446f]});},'o':(_0x4f7e8d,_0xb87655)=>Object[a0_0x7e4dd4(0x18c)][a0_0x7e4dd4(0x156)][a0_0x7e4dd4(0x154)](_0x4f7e8d,_0xb87655)},t={};function a0_0x25f7(){const _0x69fcc9=['prototype','vadCallback','invalid_stream','errorCallback','open','Not\x20initialized,\x20first\x20run\x20Krisp.init()','destroy','not_initialized','narrow-band','responseType','webkitAudioContext','firefox','connect','726998IzIdqg','no_support','createMediaStreamDestination','error','disabled','stop','Invalid\x20init\x20option','vadResult','disconnected','streams','/weights/model_16.kw','includes','push','enable_disable','isInitialized','No\x20browser\x20detection','onmessage','disconnect','vad','Krisp\x20already\x20initialized,\x20first\x20call\x20krisp.destroy()','filter','contextWasProvided','model_vad','model_8','outputs','createMediaStreamSource','type','addTrack','disable','getTracks','not_connected','rootDir','state','Invalid\x20state','AudioContext','call','opera','hasOwnProperty','invalid_init_options','sampleRate','301kjcmZE','forEach','isDisconnected','/weights/model_8.kw','data','context','isBrowserSupported','/weights/model_vad.kw','audioContext','port','isConnected','addModule','arraybuffer','edge','wide-band','model_32','/krisp.processor.js','isVad','invalid_state','3070200IyKeng','target','isEnabled','logging','safari','1798130mhkAFH','send','1.0.0','full-band','reset','chrome','enabled','url','891018VOViOY','stream','freeze','isDisabled','postMessage','1365309oxtvPa','userAgent','match','1534985YxWZiy','sources','Invalid\x20MediaStream','Currently\x20only\x20Chrome,\x20Firefox\x20and\x20Edge\x20browsers\x20are\x20supported','audioWorklet','connected','browser_no_support','model_16','538600NrXXkW','krisp-processor','Krisp\x20is\x20not\x20connected\x20to\x20any\x20valid\x20stream,\x20please\x20call\x20Krisp.connect(stream)\x20first'];a0_0x25f7=function(){return _0x69fcc9;};return a0_0x25f7();}e['d'](t,{'Z':()=>u});function a0_0x2906(_0x4a0570,_0x2bf0f5){const _0x25f791=a0_0x25f7();return a0_0x2906=function(_0x290618,_0x2c5ec8){_0x290618=_0x290618-0x129;let _0x34a3f3=_0x25f791[_0x290618];return _0x34a3f3;},a0_0x2906(_0x4a0570,_0x2bf0f5);}const i=void 0x0!==window[a0_0x7e4dd4(0x153)]?window[a0_0x7e4dd4(0x153)]:void 0x0!==window['webkitAudioContext']?window[a0_0x7e4dd4(0x12e)]:null,o=Object[a0_0x7e4dd4(0x17b)]({'not_init':a0_0x7e4dd4(0x129),'no_support':'Platform\x20not\x20supported','browser_no_support':a0_0x7e4dd4(0x184),'already_init':a0_0x7e4dd4(0x144),'invalid_stream':a0_0x7e4dd4(0x183),'invalid_state':a0_0x7e4dd4(0x152),'invalid_init_options':a0_0x7e4dd4(0x137),'not_connected':a0_0x7e4dd4(0x18b)}),r=Object[a0_0x7e4dd4(0x17b)]({'initialized':'initialized','not_initialized':'not_initialized','connected':a0_0x7e4dd4(0x186),'disconnected':'disconnected','enabled':a0_0x7e4dd4(0x177),'disabled':a0_0x7e4dd4(0x135)}),n=Object[a0_0x7e4dd4(0x17b)]({'model_8':a0_0x7e4dd4(0x12c),'model_16':a0_0x7e4dd4(0x167),'model_32':a0_0x7e4dd4(0x174),'model_vad':a0_0x7e4dd4(0x143)}),a={'state':r[a0_0x7e4dd4(0x12b)],'context':null,'filter':null,'contextWasProvided':!0x1,'errorCallback':null,'vadCallback':null,'sources':[],'outputs':[],'streams':[],'reset'(){const _0x59057c=a0_0x7e4dd4;this[_0x59057c(0x151)]=r[_0x59057c(0x12b)],this[_0x59057c(0x15e)]=null,this[_0x59057c(0x145)]=null,this[_0x59057c(0x146)]=!0x1,this[_0x59057c(0x182)]=[],this[_0x59057c(0x149)]=[],this[_0x59057c(0x13a)]=[];}},s=[a0_0x7e4dd4(0x176),'firefox','edge'];function d(){const _0x4bbbab=a0_0x7e4dd4;let _0x4ba818,_0x389836=navigator[_0x4bbbab(0x17f)];return _0x4ba818=_0x389836[_0x4bbbab(0x180)](/chrome|chromium|crios/i)?_0x4bbbab(0x176):_0x389836['match'](/firefox|fxios/i)?_0x4bbbab(0x12f):_0x389836[_0x4bbbab(0x180)](/safari/i)?_0x4bbbab(0x170):_0x389836[_0x4bbbab(0x180)](/opr\//i)?_0x4bbbab(0x155):_0x389836[_0x4bbbab(0x180)](/edg/i)?_0x4bbbab(0x166):_0x4bbbab(0x140),s[_0x4bbbab(0x13c)](_0x4ba818);}function l(_0x3bb2bf){const _0x5ba7df=a0_0x7e4dd4;_0x3bb2bf instanceof AudioWorkletNode&&(_0x3bb2bf[_0x5ba7df(0x162)][_0x5ba7df(0x141)]=_0xdcb4f4=>{const _0x16782a=_0x5ba7df;switch(_0xdcb4f4[_0x16782a(0x15d)][_0x16782a(0x14b)]){case _0x16782a(0x134):a[_0x16782a(0x18f)]&&a[_0x16782a(0x18f)](_0xdcb4f4[_0x16782a(0x15d)][_0x16782a(0x134)]);break;case'vad_result':a['vadCallback']&&a[_0x16782a(0x18d)](_0xdcb4f4['data'][_0x16782a(0x138)]);}});}const c={async 'init'(_0x6bb94e){const _0x34c044=a0_0x7e4dd4;if(c['isInitialized']())throw new Error(o['already_init']);if(!d())throw new Error(o[_0x34c044(0x187)]);if(!i)throw new Error(o[_0x34c044(0x132)]);if(!_0x6bb94e[_0x34c044(0x150)])throw new Error(o[_0x34c044(0x157)]+':\x20Root\x20directory\x20must\x20be\x20provided');const _0x18fa32=_0x6bb94e[_0x34c044(0x150)]+_0x34c044(0x169);a[_0x34c044(0x146)]=_0x6bb94e[_0x34c044(0x161)]instanceof i,a['context']=a[_0x34c044(0x146)]?_0x6bb94e[_0x34c044(0x161)]:new i();const _0x477b6f=_0x6bb94e['isVad']?{'type':n[_0x34c044(0x147)],'url':_0x6bb94e[_0x34c044(0x150)]+_0x34c044(0x160)}:a[_0x34c044(0x15e)][_0x34c044(0x158)]<=0x1f40?{'type':n[_0x34c044(0x148)],'url':_0x6bb94e[_0x34c044(0x150)]+_0x34c044(0x15c)}:a[_0x34c044(0x15e)][_0x34c044(0x158)]<=0x5dc0?{'type':n[_0x34c044(0x188)],'url':_0x6bb94e['rootDir']+_0x34c044(0x13b)}:{'type':n[_0x34c044(0x168)],'url':_0x6bb94e['rootDir']+'/weights/model_32.kw'},_0x4bab3a=await(_0x2f2991=_0x477b6f[_0x34c044(0x178)],new Promise((_0x56b7c8,_0x539364)=>{const _0x57e6bd=_0x34c044,_0x218450=new XMLHttpRequest();_0x218450['onload']=_0xe9788=>{const _0x247546=a0_0x2906;_0xe9788?_0x56b7c8(_0xe9788[_0x247546(0x16d)]['response']):_0x539364();},_0x218450[_0x57e6bd(0x12d)]=_0x57e6bd(0x165),_0x218450[_0x57e6bd(0x190)]('GET',_0x2f2991,!0x0),_0x218450[_0x57e6bd(0x172)]();}));var _0x2f2991;await a[_0x34c044(0x15e)]['audioWorklet'][_0x34c044(0x164)](_0x18fa32),a[_0x34c044(0x145)]=new AudioWorkletNode(a[_0x34c044(0x15e)],_0x34c044(0x18a)),_0x6bb94e['vadCallback']&&(a[_0x34c044(0x18d)]=_0x6bb94e['vadCallback']),_0x6bb94e[_0x34c044(0x18f)]&&(a[_0x34c044(0x18f)]=_0x6bb94e[_0x34c044(0x18f)]),l(a['filter']),a[_0x34c044(0x145)][_0x34c044(0x162)][_0x34c044(0x17d)]({'isVad':_0x6bb94e[_0x34c044(0x16a)],'type':'init','data':_0x4bab3a,'sampleRate':a['context'][_0x34c044(0x158)]}),a[_0x34c044(0x151)]=r['initialized'];},'connect'(_0xe261c1){const _0x3a8cc5=a0_0x7e4dd4;if(c[_0x3a8cc5(0x163)]())return _0xe261c1;if(!c[_0x3a8cc5(0x13f)]())throw new Error(o['not_init']);if(!a[_0x3a8cc5(0x145)]||!a[_0x3a8cc5(0x15e)])throw new Error(o[_0x3a8cc5(0x16b)]);if(!(_0xe261c1 instanceof MediaStream))throw new Error(o[_0x3a8cc5(0x18e)]);const _0x38a84d=a[_0x3a8cc5(0x15e)][_0x3a8cc5(0x14a)](_0xe261c1),_0x5ee0b2=a['context'][_0x3a8cc5(0x133)]();_0x38a84d[_0x3a8cc5(0x130)](a[_0x3a8cc5(0x145)]),a['filter'][_0x3a8cc5(0x130)](_0x5ee0b2);for(const _0x1b90d1 of _0xe261c1['getVideoTracks']())_0x5ee0b2['stream'][_0x3a8cc5(0x14c)](_0x1b90d1);return a['state']=r[_0x3a8cc5(0x186)],a[_0x3a8cc5(0x182)][_0x3a8cc5(0x13d)](_0x38a84d),a[_0x3a8cc5(0x149)][_0x3a8cc5(0x13d)](_0x5ee0b2),a[_0x3a8cc5(0x13a)]['push'](_0xe261c1),_0x5ee0b2[_0x3a8cc5(0x17a)];},'enable'(){const _0x196dbd=a0_0x7e4dd4;if(!c[_0x196dbd(0x16e)]()){if(!c[_0x196dbd(0x163)]())throw new Error(o[_0x196dbd(0x14f)]);if(!a[_0x196dbd(0x145)]||!a['context'])throw new Error(o['invalid_state']);a[_0x196dbd(0x145)][_0x196dbd(0x162)][_0x196dbd(0x17d)]({'type':'enable_disable','enabled':!0x0}),a[_0x196dbd(0x151)]=r[_0x196dbd(0x177)];}},'disable'(){const _0x3359d9=a0_0x7e4dd4;if(!c[_0x3359d9(0x17c)]()){if(!c['isConnected']())throw new Error(o[_0x3359d9(0x14f)]);if(!a['filter']||!a['context'])throw new Error(o['invalid_state']);a[_0x3359d9(0x145)][_0x3359d9(0x162)][_0x3359d9(0x17d)]({'type':_0x3359d9(0x13e),'enabled':!0x1}),a[_0x3359d9(0x151)]=r[_0x3359d9(0x135)];}},'disconnect'(){const _0x1a2cc6=a0_0x7e4dd4;if(!c[_0x1a2cc6(0x15b)]()){if(c[_0x1a2cc6(0x16e)]()&&c[_0x1a2cc6(0x14d)](),!a[_0x1a2cc6(0x145)]||!a[_0x1a2cc6(0x15e)])throw new Error(o['invalid_state']);a[_0x1a2cc6(0x145)]['disconnect'](),a['sources'][_0x1a2cc6(0x15a)](_0x2fd455=>_0x2fd455[_0x1a2cc6(0x142)]()),a[_0x1a2cc6(0x149)][_0x1a2cc6(0x15a)](_0x1737c9=>_0x1737c9['disconnect']()),a[_0x1a2cc6(0x13a)][_0x1a2cc6(0x15a)](_0x38d51f=>_0x38d51f[_0x1a2cc6(0x14e)]()[_0x1a2cc6(0x15a)](_0x24b7c1=>_0x24b7c1[_0x1a2cc6(0x136)]())),a[_0x1a2cc6(0x182)]=[],a['outputs']=[],a['streams']=[],a[_0x1a2cc6(0x151)]=r[_0x1a2cc6(0x139)];}},async 'destroy'(){const _0x33914c=a0_0x7e4dd4;c[_0x33914c(0x13f)]()&&(c[_0x33914c(0x16e)]()&&c[_0x33914c(0x14d)](),c[_0x33914c(0x163)]()&&c[_0x33914c(0x142)](),a[_0x33914c(0x145)]&&(a[_0x33914c(0x145)][_0x33914c(0x162)][_0x33914c(0x17d)]({'type':_0x33914c(0x12a)}),a[_0x33914c(0x145)]=null),a[_0x33914c(0x15e)]&&(a['contextWasProvided']||await a['context']['close'](),a['context']=null),a['state']=r['not_initialized'],a[_0x33914c(0x175)]());},'setVadCallback'(_0x9761b5){const _0x1b46c2=a0_0x7e4dd4;_0x9761b5 instanceof Function&&(a[_0x1b46c2(0x18d)]=_0x9761b5,a[_0x1b46c2(0x145)]&&l(a[_0x1b46c2(0x145)]));},'setErrorCallback'(_0x21927a){const _0x46b9f0=a0_0x7e4dd4;_0x21927a instanceof Function&&(a['errorCallback']=_0x21927a,a[_0x46b9f0(0x145)]&&l(a[_0x46b9f0(0x145)]));},'setLogging'(_0x4ec7e5){const _0x2cc4f8=a0_0x7e4dd4;c[_0x2cc4f8(0x13f)]()&&a[_0x2cc4f8(0x145)]&&a[_0x2cc4f8(0x145)][_0x2cc4f8(0x162)][_0x2cc4f8(0x17d)]({'type':_0x2cc4f8(0x16f),'enabled':_0x4ec7e5});},'getContext':()=>a[a0_0x7e4dd4(0x15e)],'getFilter':()=>a[a0_0x7e4dd4(0x145)],'getState':()=>a[a0_0x7e4dd4(0x151)],'isConnected':()=>[r[a0_0x7e4dd4(0x186)],r[a0_0x7e4dd4(0x177)],r[a0_0x7e4dd4(0x135)]][a0_0x7e4dd4(0x13c)](a[a0_0x7e4dd4(0x151)]),'isInitialized':()=>a[a0_0x7e4dd4(0x151)]!==r[a0_0x7e4dd4(0x12b)],'isBrowserSupported':d,'isSupported'(_0x199512){const _0x34811f=a0_0x7e4dd4;return!!this[_0x34811f(0x15f)]()&&(!!i&&(_0x199512 instanceof i&&(!!_0x199512['audioWorklet']&&!!_0x199512[_0x34811f(0x185)][_0x34811f(0x164)])));},'isDisabled':()=>[r['disabled'],r[a0_0x7e4dd4(0x139)],r[a0_0x7e4dd4(0x12b)]][a0_0x7e4dd4(0x13c)](a[a0_0x7e4dd4(0x151)]),'isEnabled':()=>a['state']===r[a0_0x7e4dd4(0x177)],'isDisconnected':()=>[r['disconnected'],r[a0_0x7e4dd4(0x12b)]][a0_0x7e4dd4(0x13c)](a[a0_0x7e4dd4(0x151)]),'getVersion':()=>a0_0x7e4dd4(0x173)},u=c;var p=t['Z'];export{p as default};